<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>希尔排序</title>
    <script>
        /*
            对于大规模的数组，插入排序很慢，因为它只能交换相邻的元素，每次只能将逆序数量减少 1。希尔排序的出现就是为了解决插入排序的这种局限性，它通过交换不相邻的元素，每次可以将逆序数量减少大于 1。
           希尔排序使用插入排序对间隔 h 的序列进行排序。通过不断减小 h，最后令 h=1，就可以使得整个数组是有序的
     
             稳定性：不稳定
            最坏时间复杂度为O(n^2)；最优时间复杂度为O(n)；平均时间复杂度为O(n^1.3)。
            希尔排序的时间复杂度与选取的增量有关，选取合适的增量可减少时间复杂度。
            空间复杂度O(1)
        */
        //测试用例
        let a = [3, 1, 6, 2, 5, 8, 4, 7];
        shell(a);
        console.log(a);

        //参考代码
        //初次取序列的一半为增量，以后每次减半，直到增量为1。
        function shell(arr) {
            for (let h = ~~(arr.length / 2); h > 0; h = ~~(h / 2)) {
                for (let i = h; i < arr.length; i++) {
                    for (let j = i - h; j >= 0 && arr[j] > arr[j + h]; j -= h) {
                        [arr[j], arr[h+j]] = [arr[h+j], arr[j]];
                    }
                }
            }
        }
    </script>
</head>

<body>

</body>

</html>