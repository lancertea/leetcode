<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>树的子结构</title>
    <script>
        //树的结构
        function TreeNode(x) {
            this.val = x;
            this.left = null;
            this.right = null;
        }


        //测试用例
        let Tree1 = new TreeNode(1);
        let a1 = new TreeNode(2);
        Tree1.left = a1;
        let b1 = new TreeNode(3);
        Tree1.right = b1;
        let c1 = new TreeNode(4);
        a1.left = c1;
        let d1 = new TreeNode(5);
        a1.right = d1;
        let e1 = new TreeNode(6);
        c1.right = e1;

        let Tree2 = new TreeNode(1);

        let Tree3 = null;
        let Tree4 = null;

        let Tree5 = new TreeNode(1);
        let a5 = new TreeNode(2);
        Tree5.left = a5;
        let b5 = new TreeNode(3);
        Tree5.right = b5;
        let c5 = new TreeNode(4);
        a5.left = c5;

        let Tree6 = new TreeNode(1);
        let a6 = new TreeNode(2);
        Tree6.left = a6;
        let b6 = new TreeNode(4);
        Tree6.right = b6;

        let Tree7 = new TreeNode(1);
        let a7 = new TreeNode(2);
        Tree7.left = a7;
        let b7 = new TreeNode(4);
        a7.left = b7;

        let Tree8 = new TreeNode(2);
        let a8 = new TreeNode(4);
        Tree8.left = a8;





        console.log(HasSubtree(Tree3, Tree4));
        console.log(HasSubtree(Tree2, Tree3));
        console.log(HasSubtree(Tree3, Tree2));
        console.log(HasSubtree(Tree1, Tree5));
        console.log(HasSubtree(Tree1, Tree6));
        console.log(HasSubtree(Tree1, Tree7));
        console.log(HasSubtree(Tree1, Tree8));


        //参考代码
        //解法：利用||，&&的好短路性
        function HasSubtree(pRoot1, pRoot2) {
            if (!pRoot1 || !pRoot2) {
                return false;
            }
            return isSubtree(pRoot1, pRoot2) || HasSubtree(pRoot1.left, pRoot2) || HasSubtree(pRoot1.right, pRoot2);
        }

        function isSubtree(root1, root2) {
            if (!root2) {
                return true;
            }
            if (!root1) {
                return false;
            }
            if (root1.val == root2.val) {
                return isSubtree(root1.left, root2.left) &&
                    isSubtree(root1.right, root2.right);
            } else {
                return false;
            }
        }
    </script>
</head>

<body>
    <!-- 
     题目描述：
    输入两棵二叉树A，B，判断B是不是A的子结构。（ps：我们约定空树不是任意一个树的子结构）

    短路性：
    条件1||条件2||条件3……
    ||从左到右进行判断，只要前面有一个条件为true，后面的条件都不用判断 整个为true；

     条件1&&条件2&&条件3……
    &&从左到右进行判断，只要前面有一个条件为false，后面的条件都不用判断 整个为false；
     -->
</body>

</html>