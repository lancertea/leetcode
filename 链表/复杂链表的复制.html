<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>复杂链表的复制</title>
    <style>

    </style>
</head>

<body>
    <script>
        function Node(val, next, random) {
            this.val = val;
            this.next = next;
            this.random = random;
        }

        let copyRandomList = function (head) {
            if (!head) {
                return null;
            }
            let cur = head;
            while (cur) {
                cur.next = new Node(cur.val, cur.next);
                cur = cur.next.next;
            }
            cur = head;
            while (cur) {
                if (cur.random) {
                    cur.next.random = cur.random.next;
                }
                cur = cur.next.next;
            }
            cur = head;
            let copy = cur.next,
                newNode = copy;
            while (newNode.next) {
                cur.next = cur.next.next;
                newNode.next = newNode.next.next;
                cur = cur.next;
                newNode = newNode.next;
            }
            cur.next = null;
            return copy;

        };

        let copyRandomList1 = function (head) {
            if (!head) {
                return head;
            }
            let cur = head,
                m = new Map();
            while (cur) {
                m.set(cur, new Node(cur.val));
                cur = cur.next;
            }
            cur = head;
            while (cur) {
                m.get(cur).next = m.get(cur.next) === undefined ? null : m.get(cur.next);
                m.get(cur).random = m.get(cur.random);
                cur = cur.next;
            }
            return m.get(head);
        };
    </script>
    <!-- 
     题目描述：
  请实现 copyRandomList 函数，复制一个复杂链表。在复杂链表中，每个节点除了有一个 next 指针指向下一个节点，
  还有一个 random 指针指向链表中的任意节点或者 null。
     -->
</body>

</html>